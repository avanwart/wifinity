<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <title>Wifinity</title>
		<meta name="robots" content="noindex, nofollow">
    <link rel="icon" href="favicon.png">

    <!-- Bootstrap -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="css/child.css">
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:400,600,700' rel='stylesheet' type='text/css'>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body>
  	<header class="header" role="banner">
			<nav role="navigation">
				<div class="navbar navbar-default">
					<div class="container">
						<div class="navbar-header">
							<a class="navbar-brand" href="/wifinity" title="Wifinity Inc." rel="homepage">
								<img src="img/wifinity-logo-2x.jpg" alt="Wifinity Inc.">
							</a>
              <ul class="status hidden-xs">
                <li class="step-1 fill"><i>1</i><br/>Customize</li>
                <li class="step-2"><i>2</i><br/>Create account</li>
                <li class="step-3"><i>3</i><br/>Payment</li>
                <li class="step-4"><i>4</i><br/>All done</li>
              </ul>
              <div class="row menubar">
                <div class="col-sm-12">
                  <ul class="mobile-status visible-xs">
                    <li class="step-1 fill"><a href="#">1. Customize</a></li>
                    <li class="step-2"><a href="#">2.</a></li>
                    <li class="step-3"><a href="#">3.</a></li>
                    <li class="step-4"><a href="#">4.</a></li>
                  </ul>
                </div>
              </div>
						</div>							
					</div>
				</div> 
			</nav>
		</header>
    <div class="visible-xs">
      <section id="total" class="ashy">
      	<div class="container">
  	    	<div class="row">
            <div class="col-sm-12">
              <strong>Total: £<span id="price">1.99</span></strong>
            </div>  
          </div>
      	</div>
      </section>
      <section id="customizer">
        <div class="container">
          <form action="">
            <div class="row duration">
              <div class="col-sm-12">
                <h2>Duration</h2>
                <div class="row" style="padding: 0">
                  <div class="col-xs-6 active">
                    <select name="duration-days" id="duration-days" class="form-control value">
                      <option value="1.99">1 day - £1.99</option>
                      <option value="3.98">2 days - £3.98</option>
                      <option value="5.97">3 days - £5.97</option>
                      <option value="7.96">4 days - £7.96</option>
                      <option value="9.95">5 days - £9.95</option>
                      <option value="11.94">6 days - £11.94</option>
                    </select>
                  </div>
                  <div class="col-xs-6">
                  <span>or</span>
                    <div class="checkbox">
                      <label>
                        <input type="checkbox" id="one-week" value="7.99" class="value"> 1 week <br><small>£7.99</small> <em>Save 66%</em>
                      </label>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="row devices">
              <div class="col-sm-12">
                <h2>Devices</h2>
                <select name="devices" id="devices" class="form-control">
                  <option value="0">1 device</option>
                  <option value="1">2 devices</option>
                  <option value="2">3 devices</option>
                  <option value="3">4 devices</option>
                  <option value="4">5 devices</option>
                  <option value="5">6 devices</option>
                  <option value="6">7 devices</option>
                  <option value="7">8 devices</option>
                  <option value="8">9 devices</option>
                  <option value="9">10 devices</option>
                </select>
                <small>£1 per extra device</small>
              </div>
            </div>
            <div class="row bandwidth">
              <div class="col-sm-12">
                <h2>Bandwidth</h2>
                <select name="bandwidth" id="bandwidth" class="form-control">
                  <option value="0">4 Mbps</option>
                  <option value="1">6 Mbps</option>
                  <option value="2">8 Mbps</option>
                  <option value="3">10 Mbps</option>
                  <option value="4">12 Mbps</option>
                  <option value="5">14 Mbps</option>
                  <option value="6">16 Mbps</option>
                  <option value="7">18 Mbps</option>
                  <option value="8">20 Mbps</option>
                </select>
                <small>£1 per 2 Mbps increment</small>
              </div>
            </div>
            <div class="row submit">
              <div class="col-sm-12">
                <button class="btn btn-primary btn-block">Next &rarr;</button>
              </div>
            </div>
          </form>
        </div>
      </section>
    </div>
    <footer>
    	<div class="container">
    		<div class="row">
    			<div class="col-sm-12">
    				<p class="copyright text-center">&copy; Copyright 2014 WiFinity | All rights reserved</p>
    			</div>
    		</div>
    	</div>
    </footer>

    <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
    <!-- Include all compiled plugins (below), or include individual files as needed -->
    <script src="js/bootstrap.min.js"></script>
    <script>
    $(document).ready(function(){
      
      // Mobile form functionality
      $('#one-week').click(function(){
        
      });

      // Price calculator
      var Devices = Number($('#devices').val());
      var Bandwidth = Number($('#bandwidth').val());
      var Duration = Number($('.active .value').val());
      var Total = (Devices += Bandwidth += Duration);
      console.log(Total);
      $('#price').text(Total).hide().fadeIn();

      $('select').change(function(){
        var Devices = Number($('#devices').val());
        var Bandwidth = Number($('#bandwidth').val());
        var Duration = Number($('.active .value').val());
        var Total = (Devices += Bandwidth += Duration);
        console.log(Total);
        $('#price').text(Total).hide().fadeIn();

      });

      // If they click the one week checkbox
      $('#one-week').change(function(){
        if(this.checked){
          $('.checkbox').parent().addClass('active');
          $('#duration-days').parent().removeClass('active');
        } else {
          $('.checkbox').parent().removeClass('active');
          $('#duration-days').parent().addClass('active');
        }
        // Update the price
        var Devices = Number($('#devices').val());
        var Bandwidth = Number($('#bandwidth').val());
        var Duration = Number($('.active .value').val());
        var Total = (Devices += Bandwidth += Duration);
        console.log(Total);
        $('#price').text(Total).hide().fadeIn();

      });

      // If they switch to days after choosing one week
      $('#duration-days').change(function(){
        $('.checkbox').parent().removeClass('active');
        $('#duration-days').parent().addClass('active');
        var Devices = Number($('#devices').val());
        var Bandwidth = Number($('#bandwidth').val());
        var Duration = Number($('.active .value').val());
        var Total = (Devices += Bandwidth += Duration);
        console.log(Total);
        $('#one-week').prop('checked', false)
        $('#price').text(Total).hide().fadeIn();
      });

      // Determine next button destination
    	$('#one-day').click(function(){
    		$('.btn-primary').attr('href', 'create-account.html?daily')
    	});
    	$('#one-month').click(function(){
    		$('.btn-primary').attr('href', 'create-account.html?monthly')
    	});

    	// Query Parameter Functionality
    	var myParam = location.search.split('plan=')[1]
    	console.log(myParam);

   		if(myParam == "daily"){
   			alert('daily')
   		}
   		if(myParam == "weekly"){
   			alert('weekly')
   		}
   		if(myParam == "monthly"){
   			alert('monthly')
   		}
   		if(myParam == "yearly"){
   			alert('yearly')
   		}

    });
    </script>
  </body>
</html>